var U={},H=(J,z,B)=>(U.__chunk_73491=()=>{},U.__chunk_22004=(O,S,a)=>{"use strict";a.d(S,{J:()=>_});var e=a(29220),r=a(85016),N=a(52851),j=a(73521),f=a(67594);function _(g,w){(0,e.useRef)(Date.now());let{userId:T}=(0,r.Q)();(0,N.useLocale)(),(0,j.so)();let{ip:C}=(0,f.s)()}},U.__chunk_6268=(O,S,a)=>{"use strict";a.d(S,{Z:()=>k});var e=a(60926),r=a(12372),N=a(77831),j=a(1383),f=a(29220),_=a(56454),g=a(52851),w=a(44443),T=a(85016),C=a(22004),D=a(89137),Z=a(67594);(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../PageViewCount"]},ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(_.ListingShimmer3col,{}),ssr:!1});let k=({data:v,isDetail:n=!0})=>{let[t]=(0,f.useState)(v||null),i={layout_structure:t?.layout_structure,field_content:t?.field_content},o=t?.title?.[0]?.value,d=t?.nid?.[0]?.value;t?.uid?.[0]?.target_id,t?.field_tags;let h=(0,g.useLocale)(),{userName:u,userId:p,isEvaluatedUser:x}=(0,T.Q)(),{ip:m,alias:l}=(0,Z.s)();(0,C.J)(p?"video":null,d),(0,D.r)({userId:p||"0",nid:d,locale:h,isEvaluatedUser:x,ip:m,alias:l});let s=(t?.field_sub_category||[]).find(V=>V&&V.field_category_short_name?.[0]),c=s?.tid?.[0].value,L=t?.field_thumbnail_image?.[0]?.url,$=s?.field_category_short_name?.[0].value,F=s?.path?.[0]?.alias,E=s?.field_sub_category_thumbnail?.[0]?.url,I=s?.parent?.["0"]?.field_category_short_name?.[0].value,q=s?.parent?.["0"]?.path?.[0]?.alias,y=s?.parent?.["0"]?.field_image?.[0]?.url;return(0,f.useLayoutEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.jsxs)("div",{className:"scorm-page",children:[n&&(0,e.jsx)(N.O,{items:[{title:I,url:`/${h}${q}`,icon:y},{title:$,url:`/${h}${F}`,icon:E},{title:o,url:"#",icon:L}]}),(0,e.jsx)("h1",{className:"mt-5 mb-8 max-w-3xl pe-4",children:o}),(0,e.jsx)(j.Z,{data:i}),n&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(w.b,{nid:d,subcatTid:c})})]})}},U.__chunk_91507=(O,S,a)=>{"use strict";a.d(S,{Z:()=>k});var e=a(60926),r=a(12372),N=a(77831),j=a(29220),f=a(56454),_=a(52851),g=a(44443),w=a(85016),T=a(22004),C=a(89137),D=a(67594);let Z=(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../PageViewCount"]},ssr:!1});(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(f.ListingShimmer3col,{}),ssr:!1});let k=({data:v,isDetail:n=!0})=>{let[t]=(0,j.useState)(v||null),i=t?.title[0]?.value,o=t?.nid[0]?.value,d=t?.uid[0]?.target_id;t?.field_tags;let h=(0,_.useLocale)(),{userName:u,userId:p,isEvaluatedUser:x}=(0,w.Q)(),{ip:m,alias:l}=(0,D.s)();(0,T.J)(p?"scorm":null,o),(0,C.r)({userId:p||"0",nid:`${o}`,locale:h,isEvaluatedUser:x,ip:m,alias:l});let s=(t?.field_sub_category||[]).find(V=>V&&V.field_category_short_name?.[0]),c=s?.tid?.[0].value,L=t?.field_thumbnail_image?.[0]?.url,$=s?.field_category_short_name?.[0].value,F=s?.path?.[0]?.alias,E=s?.field_sub_category_thumbnail?.[0]?.url,I=s?.parent?.["0"]?.field_category_short_name?.[0].value,q=s?.parent?.["0"]?.path?.[0]?.alias,y=s?.parent?.["0"]?.field_image?.[0]?.url;return(0,j.useLayoutEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]),(0,e.jsxs)("div",{className:"scorm-page lg:min-h-[400px]",children:[n&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.O,{items:[{title:I,url:`/${h}${q}`,icon:y},{title:$,url:`/${h}${F}`,icon:E},{title:i,url:"#",icon:L}]}),(0,e.jsx)(Z,{nid:o,uid:d})]}),(0,e.jsx)("iframe",{width:"100%",height:"100%",className:"mb-8 mt-8 min-h-[40rem] lg:min-h-[51rem]",title:i,src:"https://edit-dev.laaha.org/"+h+"/scorm-player/"+o}),(0,e.jsx)(g.b,{nid:o,subcatTid:c})]})}},U.__chunk_88247=(O,S,a)=>{"use strict";a.d(S,{Z:()=>k});var e=a(60926),r=a(12372),N=a(77831),j=a(29220),f=a(1383),_=a(56454),g=a(52851),w=a(44443),T=a(22004),C=a(85016),D=a(89137),Z=a(67594);(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../PageViewCount"]},ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(_.ListingShimmer3col,{}),ssr:!1});let k=({data:v,isDetail:n=!0})=>{let[t]=(0,j.useState)(v||null),i=t?.title?.[0]?.value,o=t?.nid?.[0]?.value;t?.uid?.[0]?.target_id,t?.field_tags;let{userName:d,userId:h,isEvaluatedUser:u}=(0,C.Q)(),p=(0,g.useLocale)(),{ip:x,alias:m}=(0,Z.s)();(0,T.J)(h?"podcast":null,o),(0,D.r)({userId:h||"0",nid:o,locale:p,isEvaluatedUser:u,ip:x,alias:m}),(0,j.useLayoutEffect)(()=>{window.scrollTo({top:0,behavior:"smooth"})},[]);let l=(t?.field_sub_category||[]).find(V=>V&&V.field_category_short_name?.[0]),s=t?.field_thumbnail_image?.[0]?.url,c=l?.field_category_short_name?.[0].value,L=l?.path?.[0]?.alias,$=l?.field_sub_category_thumbnail?.[0]?.url,F=l?.parent?.["0"]?.field_category_short_name?.[0].value,E=l?.parent?.["0"]?.path?.[0]?.alias,I=l?.parent?.["0"]?.field_image?.[0]?.url,q={layout_structure:t?.layout_structure,field_content:t?.field_content},y=l?.tid?.[0].value;return(0,e.jsxs)("div",{className:"podcast-page lg:min-h-[400px]",children:[n&&(0,e.jsx)(N.O,{items:[{title:F,url:`/${p}${E}`,icon:I},{title:c,url:`/${p}${L}`,icon:$},{title:i,url:"#",icon:s}]}),(0,e.jsx)("h1",{className:"mt-5 mb-8 max-w-3xl pe-4",children:i}),(0,e.jsx)(f.Z,{data:q,nid:o}),n&&(0,e.jsx)(e.Fragment,{children:o&&(0,e.jsx)(w.b,{subcatTid:y,nid:o})})]})}},U.__chunk_1383=(O,S,a)=>{"use strict";a.d(S,{Z:()=>v});var e=a(60926),r=a(60299);let N=({children:n,layout_id:t})=>(0,e.jsx)("div",{className:`layout ${t}`,children:n});var j=a(30546),f=a(7433),_=a(52851),g=a(29220);let w=({field_question:n,field_answer:t})=>{let[i,o]=(0,g.useState)(!1),[d,h]=(0,g.useState)(!1),u=(0,_.useLocale)(),{translations:p}=(0,f.T)(),x=n?.[0]?.value||"",m=t?.[0]?.value||"",l=m?m.split(" "):[],s=l.length>60,c=s?l.slice(0,60).join(" ")+"...":m;return(0,g.useEffect)(()=>{h(!0)},[]),d?(0,e.jsxs)("div",{className:"accordion bg-white shadow-lg rounded-2xl overflow-hidden p-4 mb-6",children:[(0,e.jsx)("div",{className:"accordion-header p-4",children:(0,e.jsx)("h3",{className:"text-xl font-semibold",children:x})}),(0,e.jsxs)("div",{className:"accordion-body p-4",children:[(0,e.jsx)("p",{className:"",children:s&&!i?(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:c}}):(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:m}})}),s&&(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("button",{onClick:()=>{o(!i)},className:"mt-6 btn-secondary text-white px-4 py-2 rounded-lg",children:i?p?.[u]?.read_less||"Read Less":p?.[u]?.read_more||"Read More"})})]})]}):null};var T=a(15203),C=a(85046),D=a(73521);let Z=n=>{let[t,i]=(0,g.useState)([]),[o,d]=(0,g.useState)(!1),h=(0,D.so)(),u=(0,D.pD)(),{translations:p}=(0,f.T)(),x=(0,_.useLocale)(),m=n?.field_audio?.[0]?.url||n?.field_audio?.uri?.url;return(0,g.useEffect)(()=>{let l=async function(s){let c=await fetch(`https://edit-dev.laaha.org/${x}/api/v1/transcript/${s}`,{headers:{"Content-Type":"application/json","country-code":h||"US","lang-code":u||"en",locale:x||"en"}});i(await c.json())};n?.field_vtt_file?.[0]?.url&&l(n?.nid)},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("audio",{className:"mb-8 w-full",controls:!0,children:(0,e.jsx)("source",{src:m,type:n?.field_audio?.[0]?.filemime||"audio/mp3"})}),t.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("button",{className:"show-transcript btn-primary mb-2 flex justify-self-end",onClick:()=>d(!o),children:[o?`${p?.[x]?.hide}`:`${p?.[x]?.show}`," ",p?.[x]?.transcript]}),o&&(0,e.jsx)("div",{className:"transcripts border w-full max-h-40 bg-color-secondary overflow-y-auto border-primary rounded-2xl p-3",children:t?.map((l,s)=>e.jsxs("div",{className:"flex pb-4",children:[e.jsxs("span",{className:"time mr-6",children:[" ",l?.time]}),e.jsxs("span",{className:"text",children:[" ",l?.text]})]},s))})]})]})};a(73491);var k=a(66751);let v=({data:n,nid:t})=>{let i=n.layout_structure,o=n.field_content,d={"paragraph--wysiwyg_editor":r.Z,wysiwyg_editor:r.Z,"paragraph--image":j.Z,image:j.Z,"paragraph--faq":w,faq:w,external_videos:C.Z,"paragraph--video":T.Z,"paragraph--podcast_audio":Z,podcast_audio:Z,"paragraph--text_and_video":k.Z},h=(0,g.useMemo)(()=>Array.isArray(i)?i.map((u,p)=>{if(u.type!=="layout"||Object.keys(u.regions).length===0){if(u.type==="component"){let x=d[u.paragraph_type],m=u.id,l=o.find(s=>s.id[0].value==m);return(0,e.jsx)(x,{...l,nid:t},m)}return null}return(0,e.jsx)(N,{layout_id:u.layout_id,children:Object.keys(u.regions).map((x,m)=>{let l=u.regions[x];return l.length>0&&(0,e.jsx)("div",{className:`region-${x} w-full`,children:l.map(s=>{let c=o.find($=>$.uuid[0].value===s.uuid),L=d[c?.type[0].target_id];if(!L)return(0,e.jsxs)("div",{children:["Unknown component type: ",s.paragraph_type]},s.uuid);if(c&&c?.type[0].target_id=="external_videos"){let $={field_external_video:c.field_external_video[0].value};return(0,e.jsx)(L,{...$},s.uuid)}return c?(0,e.jsx)(L,{...c,nid:t},s.uuid):null})},m)})},p)}):(console.error("Expected 'layout_structure' to be an array."),null),[i,o]);return(0,e.jsx)(e.Fragment,{children:h})}},U.__chunk_44443=(O,S,a)=>{"use strict";a.d(S,{b:()=>Z});var e=a(60926),r=a(29220),N=a(58997),j=a(31164),f=a(73521),_=a(83120),g=a(52851),w=a(7433),T=a(85016),C=a(34929);function D({nid:k,handleShowForm:v,feedbackType:n,subcatTid:t}){let[i,o]=(0,r.useState)(0),[d,h]=(0,r.useState)({}),[u,p]=(0,r.useState)(!1),[x,m]=(0,r.useState)(0),[l,s]=(0,r.useState)(!1),[c,L]=(0,r.useState)(!1),[$,F]=(0,r.useState)(!1),E=(0,g.useLocale)(),{translations:I}=(0,w.T)(),q=(0,f.so)(),[y,V]=(0,r.useState)([]),{userName:Q,userId:Y}=(0,T.Q)();(0,r.useRef)(d),(0,r.useRef)(c),(0,r.useRef)($);let M=async(P=d)=>{let b=await(0,C.h)();if(l||c)return;let G={webform_id:"laaha_survey_builder_module",subcategory:t,country:q,was_this_helpful:n,...P,username:Q||"",user_id:Y||"",node_id:k};s(!0);try{let A={"Content-Type":"application/json",...b?{Authorization:`Bearer ${b}`}:{}};(await fetch(`https://edit-dev.laaha.org/${E}/webform_rest/submit`,{method:"POST",headers:A,body:JSON.stringify(G)})).ok&&(localStorage.removeItem(`feedback_form_responses_${t}`),L(!0))}catch(A){console.error("Failed to submit feedback:",A)}finally{s(!1)}},R=P=>{F(!0);let b=y[i],G={...d,[b.question_code]:P};h(G),i===y.length-1?(p(!0),F(!1),M(G)):o(i+1)},X=()=>{!c&&($||n)&&Object.keys(d).length>0&&M(Object.keys(d).length>0?d:{}),F(!1),v()};return u?(0,e.jsx)("div",{className:"lg:max-w-1/2 bg-white border rounded shadow",children:(0,e.jsxs)("div",{className:"relative p-6",children:[(0,e.jsx)("button",{onClick:X,className:"absolute top-3 end-3",children:(0,e.jsx)(_.Tw,{})}),(0,e.jsxs)("div",{className:"text-center py-8 text-default-black",children:[(0,e.jsxs)("h2",{className:`text-xl text-red-wine max-w-80 mx-auto font-semibold mb-8 ${f.pX.className}`,children:["\u{1F389} ",I?.[E]?.thankyou_feedback]}),(0,e.jsx)("button",{onClick:X,className:"bg-primary hover:bg-red text-base text-white px-4 py-2 rounded",children:I?.[E]?.close})]})]})}):y.length?(0,e.jsx)("div",{className:"lg:max-w-1/2 bg-white border border-primary rounded-xl shadow",children:(0,e.jsxs)("div",{className:"relative p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("div",{className:"flex items-center w-full",children:(0,e.jsx)("h2",{className:`${f.pX.className} text-center mb-2 w-full text-xxl font-bold text-primary`,children:I?.[E]?.feedback_survey})}),(0,e.jsx)("button",{onClick:X,className:"absolute top-3 end-3",children:(0,e.jsx)(_.Tw,{})})]}),(0,e.jsxs)("div",{className:"py-4",children:[(0,e.jsx)("h3",{className:`${f.pX.className} text-red-wine text-xl font-semibold text-center mb-6`,children:y[i].question}),(()=>{if(!y.length)return null;let P=y[i];switch(P.type){case"yesno":return(0,e.jsxs)("div",{className:"flex justify-center gap-4 mb-8",children:[(0,e.jsxs)("button",{className:`w-24 border rounded py-2 inline-flex items-center gap-x-1 justify-center ${d[P.question_code]==="No"?"bg-primary text-white":"border-primary text-primary hover:bg-color-secondary"}`,onClick:()=>R("No"),children:[(0,e.jsx)(_.LX,{stroke:`${d[P.question_code]==="No"?"#fff":"#F7265D"}`}),(0,e.jsx)("span",{className:"text-base",children:"No"})]}),(0,e.jsxs)("button",{className:`w-24 rounded-lg py-2 inline-flex items-center gap-x-1 justify-center ${d[P.question_code]==="Yes"?"bg-red text-white":"bg-primary hover:bg-red text-white"}`,onClick:()=>R("Yes"),children:[(0,e.jsx)("div",{className:"inline-flex -rotate-180",children:(0,e.jsx)(_.LX,{stroke:"#fff"})}),(0,e.jsx)("span",{className:"text-base mt-1",children:"Yes"})]})]});case"star":return(0,e.jsx)("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(b=>(0,e.jsx)("button",{onMouseEnter:()=>m(b),onMouseLeave:()=>m(0),onClick:()=>R(b.toString()),className:"text-2xl","aria-label":`Rate ${b} stars`,style:{color:x>=b||d[P.question_code]===b.toString()?"gold":"lightgray",cursor:"pointer"},children:"\u2605"},b))});case"emoji":return(0,e.jsx)("div",{className:"flex justify-center gap-6 mb-8 text-default-black flex-wrap",children:[{emoji:"\u{1F623}",label:"Very Dissatisfied",value:"1"},{emoji:"\u{1F614}",label:"Dissatisfied",value:"2"},{emoji:"\u{1F60A}",label:"Neutral",value:"3"},{emoji:"\u{1F603}",label:"Satisfied",value:"4"},{emoji:"\u{1F929}",label:"Very Satisfied",value:"5"}].map(b=>(0,e.jsxs)("button",{onClick:()=>R(b.value),className:`flex flex-col items-center gap-2 p-3 rounded hover:bg-gray-100 ${d[P.question_code]===b.value?"bg-gray-200":""}`,children:[(0,e.jsx)("span",{className:"text-3xl",children:b.emoji}),(0,e.jsx)("span",{className:"text-sm",children:b.label})]},b.value))});default:return null}})(),(0,e.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-4",children:[(0,e.jsx)("button",{onClick:()=>{i>0&&o(i-1)},disabled:i===0,className:`p-2 ${i===0?"opacity-50":""}`,children:(0,e.jsx)(_.IT,{})}),(0,e.jsx)("div",{className:"flex gap-1 text-color-neutral p-2 font-semibold text-base",children:(0,e.jsxs)("span",{className:`${f.pX.className}`,children:[(0,e.jsx)("span",{className:"text-primary",children:i+1})," / ",y.length]})}),(0,e.jsx)("button",{onClick:()=>{i<y.length-1&&o(i+1)},disabled:i===y.length-1,className:`p-2 ${i===y.length-1?"opacity-50":""}`,children:(0,e.jsx)(_.UV,{fill:"#f7265d"})})]})]})]})}):null}let Z=({subcatTid:k,nid:v})=>{let[n,t]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),u=(0,g.useLocale)(),{userId:p}=(0,T.Q)(),{translations:x}=(0,w.T)();(0,r.useEffect)(()=>{(async()=>{if(!p){let l=j.Z.get(`article_feedback_${v}`);if(l){t(l),o(!1);return}}try{let l=await(0,C.h)();if(!l)return;let s=await fetch(`https://edit-dev.laaha.org/${u}/api/v1/module-survey-helpful/${v}`,{headers:{Authorization:`Bearer ${l}`,locale:u}});if(s.ok){let c=await s.json();c?.was_this_helpful&&(t(c.was_this_helpful.charAt(0).toUpperCase()+c.was_this_helpful.slice(1).toLowerCase()),o(!1))}}catch(l){console.error("Failed to load user feedback:",l)}})()},[k,v]);let m=l=>{n||(t(l),h(!0),o(!0),j.Z.set(`article_feedback_${v}`,l,{expires:1}))};return(0,e.jsxs)("div",{className:"article-feedback mb-8 border-b pb-8 border-gray",children:[(0,e.jsx)("div",{className:"feedback-heading",children:(0,e.jsx)("div",{className:`${f.pX.className} font-bold text-primary text-xl mb-2`,children:x?.[u]?.was_this_helpful})}),(0,e.jsxs)("div",{className:"reactions inline-flex gap-x-2 w-full",children:[(0,e.jsx)("div",{onClick:()=>m("Yes"),className:`${n&&n!=="Yes"?"pointer-events-none opacity-30":""} thumbsup p-3 cursor-pointer bg-gray-100 hover:scale-110 rounded-full flex items-center justify-center`,children:(0,e.jsx)(N.Z,{src:"/assets/images/thumbsup.svg",alt:"Thumbs Up",width:22,height:22})}),(0,e.jsx)("div",{onClick:()=>m("No"),className:`${n&&n!=="No"?"pointer-events-none opacity-30":""} thumbsdown p-3 cursor-pointer bg-gray-100 hover:scale-110 rounded-full flex items-center justify-center`,children:(0,e.jsx)(N.Z,{src:"/assets/images/thumbsdown.svg",alt:"Thumbs Down",width:22,height:22})})]}),i&&(0,e.jsx)("div",{className:"mt-4 bg-gray-50 rounded-lg text-sm text-gray-700",children:(n==="Yes"||n==="No")&&d&&(0,e.jsx)(D,{nid:v,handleShowForm:()=>{h(!1)},feedbackType:n,subcatTid:k})})]})}},U);export{H as __getNamedExports};
