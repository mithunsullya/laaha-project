var k={},_=(S,b,L)=>(k.__chunk_89137=(T,h,u)=>{"use strict";u.d(h,{r:()=>p});var a=u(29220);let p=({nickname:d,nid:m,locale:v,pageName:E="N/A"})=>{let l=(0,a.useRef)(null),g=(0,a.useRef)([]);(0,a.useEffect)(()=>{let c=new Date;l.current=c;let f=n=>{let e=n.target,r=e.closest("a[href]"),i=e.closest("button"),t=e.closest("[data-track]"),o=null;r?o=`Link: ${r.href}`:i?o=`Button: ${i.innerText.trim()}`:t&&(o=`Tracked Element: ${t.getAttribute("data-track")||t.innerText.trim()}`),o&&g.current.push(o)},s=()=>{if(!l.current)return;let n=new Date().getTime()-l.current.getTime(),e=Math.floor(n/6e4),r=Math.floor(n%6e4/1e3),i=e>0?`${e}:${r.toString().padStart(2,"0")} minutes`:`${r} seconds`,t={nickname:d,node:m,locale:v,date:c.toLocaleDateString("en-US"),time:c.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1}),timeSpent:i,pageName:E,linksClicked:g.current};n>0&&(console.log(t),navigator.sendBeacon("/api/track",JSON.stringify(t)))};return document.addEventListener("click",f),window.addEventListener("beforeunload",s),()=>{s(),document.removeEventListener("click",f),window.removeEventListener("beforeunload",s)}},[d,m])}},k);export{_ as __getNamedExports};
