var O={},H=(Q,U,z)=>(O.__chunk_73491=()=>{},O.__chunk_22004=(R,$,t)=>{"use strict";t.d($,{J:()=>_});var e=t(29220),r=t(85016),N=t(52851),v=t(73521);function _(b,g){(0,e.useRef)(Date.now());let{userId:w}=(0,r.Q)();(0,N.useLocale)(),(0,v.so)()}},O.__chunk_6268=(R,$,t)=>{"use strict";t.d($,{Z:()=>j});var e=t(60926),r=t(12372),N=t(77831),v=t(1383),_=t(29220),b=t(56454),g=t(52851),w=t(44443),F=t(85016),T=t(22004),C=t(89137);(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../PageViewCount"]},ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1});let Z=(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Video/VideoComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(b.ListingShimmer3col,{}),ssr:!1}),j=({data:y,isDetail:s=!0})=>{let[a]=(0,_.useState)(y||null),l={layout_structure:a?.layout_structure,field_content:a?.field_content},d=a?.title?.[0]?.value,i=a?.nid?.[0]?.value;a?.uid?.[0]?.target_id,a?.field_tags;let p=(0,g.useLocale)(),{userName:u,userId:n}=(0,F.Q)();(0,T.J)(n?"video":null,n?i:null),(0,C.r)({nickname:u||"",nid:i,locale:p});let o=(a?.field_sub_category||[]).find(E=>E&&E.field_category_short_name?.[0]),m=o?.tid?.[0].value,h=a?.field_thumbnail_image?.[0]?.url,c=o?.field_category_short_name?.[0].value,x=o?.path?.[0]?.alias,S=o?.field_sub_category_thumbnail?.[0]?.url,k=o?.parent?.["0"]?.field_category_short_name?.[0].value,D=o?.parent?.["0"]?.path?.[0]?.alias,q=o?.parent?.["0"]?.field_image?.[0]?.url;return(0,e.jsxs)("div",{className:"scorm-page",children:[s&&(0,e.jsx)(N.O,{items:[{title:k,url:`/${p}${D}`,icon:q},{title:c,url:`/${p}${x}`,icon:S},{title:d,url:"#",icon:h}]}),(0,e.jsx)("h1",{className:"mt-5 mb-8 max-w-3xl pe-4",children:d}),(0,e.jsx)(v.Z,{data:l}),s&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(w.b,{nid:i,subcatTid:m}),i&&(0,e.jsx)(Z,{nid:i})]})]})}},O.__chunk_91507=(R,$,t)=>{"use strict";t.d($,{Z:()=>Z});var e=t(60926),r=t(12372),N=t(77831),v=t(29220),_=t(56454),b=t(52851),g=t(85016),w=t(22004),F=t(89137);let T=(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../PageViewCount"]},ssr:!1});(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1});let C=(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Scorm/ScormComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(_.ListingShimmer3col,{}),ssr:!1}),Z=({data:j,isDetail:y=!0})=>{let[s]=(0,v.useState)(j||null),a=s?.title[0]?.value,l=s?.nid[0]?.value,d=s?.uid[0]?.target_id;s?.field_tags;let i=(0,b.useLocale)(),{userName:p,userId:u}=(0,g.Q)();(0,w.J)(u?"scorm":null,u?l:null),(0,F.r)({nickname:p||"",nid:l,locale:i});let n=(s?.field_sub_category||[]).find(D=>D&&D.field_category_short_name?.[0]);n?.tid?.[0].value;let o=s?.field_thumbnail_image?.[0]?.url,m=n?.field_category_short_name?.[0].value,h=n?.path?.[0]?.alias,c=n?.field_sub_category_thumbnail?.[0]?.url,x=n?.parent?.["0"]?.field_category_short_name?.[0].value,S=n?.parent?.["0"]?.path?.[0]?.alias,k=n?.parent?.["0"]?.field_image?.[0]?.url;return(0,e.jsxs)("div",{className:"scorm-page",children:[y&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N.O,{items:[{title:x,url:`/${i}${S}`,icon:k},{title:m,url:`/${i}${h}`,icon:c},{title:a,url:"#",icon:o}]}),(0,e.jsx)(T,{nid:l,uid:d})]}),(0,e.jsx)("iframe",{width:"100%",height:"100%",className:"mb-8 mt-8 min-h-[40rem] lg:min-h-[51rem]",title:a,src:"https://edit-dev.laaha.org/"+i+"/scorm-player/"+l}),y&&(0,e.jsx)(C,{nid:l})]})}},O.__chunk_88247=(R,$,t)=>{"use strict";t.d($,{Z:()=>j});var e=t(60926),r=t(12372),N=t(77831),v=t(29220),_=t(1383),b=t(56454),g=t(52851),w=t(44443),F=t(22004),T=t(85016),C=t(89137);(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../PageViewCount"]},ssr:!1}),(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../Tags"]},loading:()=>(0,e.jsx)("p",{children:"Loading Tags..."}),ssr:!1});let Z=(0,r.Z)(async()=>{},{loadableGenerated:{modules:["components/Podcast/PodcastComponent.tsx -> ../RecommendedPost"]},loading:()=>(0,e.jsx)(b.ListingShimmer3col,{}),ssr:!1}),j=({data:y,isDetail:s=!0})=>{let[a]=(0,v.useState)(y||null),l=a?.title?.[0]?.value,d=a?.nid?.[0]?.value;a?.uid?.[0]?.target_id,a?.field_tags;let{userName:i,userId:p}=(0,T.Q)(),u=(0,g.useLocale)();(0,F.J)(p?"podcast":null,p?d:null),(0,C.r)({nickname:i||"",nid:d,locale:u});let n=(a?.field_sub_category||[]).find(E=>E&&E.field_category_short_name?.[0]),o=a?.field_thumbnail_image?.[0]?.url,m=n?.field_category_short_name?.[0].value,h=n?.path?.[0]?.alias,c=n?.field_sub_category_thumbnail?.[0]?.url,x=n?.parent?.["0"]?.field_category_short_name?.[0].value,S=n?.parent?.["0"]?.path?.[0]?.alias,k=n?.parent?.["0"]?.field_image?.[0]?.url,D={layout_structure:a?.layout_structure,field_content:a?.field_content},q=n?.tid?.[0].value;return(0,e.jsxs)("div",{className:"podcast-page",children:[s&&(0,e.jsx)(N.O,{items:[{title:x,url:`/${u}${S}`,icon:k},{title:m,url:`/${u}${h}`,icon:c},{title:l,url:"#",icon:o}]}),(0,e.jsx)("h1",{className:"mt-5 mb-8 max-w-3xl pe-4",children:l}),(0,e.jsx)(_.Z,{data:D,nid:d}),s&&(0,e.jsxs)(e.Fragment,{children:[d&&(0,e.jsx)(w.b,{subcatTid:q,nid:d}),(0,e.jsx)(Z,{nid:d})]})]})}},O.__chunk_1383=(R,$,t)=>{"use strict";t.d($,{Z:()=>y});var e=t(60926),r=t(60299);let N=({children:s,layout_id:a})=>(0,e.jsx)("div",{className:`layout ${a}`,children:s});var v=t(30546),_=t(7433),b=t(52851),g=t(29220);let w=({field_question:s,field_answer:a})=>{let[l,d]=(0,g.useState)(!1),[i,p]=(0,g.useState)(!1),u=(0,b.useLocale)(),{translations:n}=(0,_.T)(),o=s?.[0]?.value||"",m=a?.[0]?.value||"",h=m?m.split(" "):[],c=h.length>60,x=c?h.slice(0,60).join(" ")+"...":m;return(0,g.useEffect)(()=>{p(!0)},[]),i?(0,e.jsxs)("div",{className:"accordion bg-white shadow-lg rounded-2xl overflow-hidden p-4 mb-6",children:[(0,e.jsx)("div",{className:"accordion-header p-4",children:(0,e.jsx)("h3",{className:"text-xl font-semibold",children:o})}),(0,e.jsxs)("div",{className:"accordion-body p-4",children:[(0,e.jsx)("p",{className:"",children:c&&!l?(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:x}}):(0,e.jsx)("span",{dangerouslySetInnerHTML:{__html:m}})}),c&&(0,e.jsx)("div",{className:"text-center",children:(0,e.jsx)("button",{onClick:()=>{d(!l)},className:"mt-6 btn-secondary text-white px-4 py-2 rounded-lg",children:l?n?.[u]?.read_less||"Read Less":n?.[u]?.read_more||"Read More"})})]})]}):null};var F=t(15203),T=t(85046),C=t(73521);let Z=s=>{let[a,l]=(0,g.useState)([]),[d,i]=(0,g.useState)(!1),p=(0,C.so)(),u=(0,C.pD)(),{translations:n}=(0,_.T)(),o=(0,b.useLocale)(),m=s?.field_audio?.[0]?.url||s?.field_audio?.uri?.url;return(0,g.useEffect)(()=>{let h=async function(c){let x=await fetch(`https://edit-dev.laaha.org/${o}/api/v1/transcript/${c}`,{headers:{"Content-Type":"application/json","country-code":p||"US","lang-code":u||"en",locale:o||"en"}});l(await x.json())};s?.field_vtt_file?.[0]?.url&&h(s?.nid)},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("audio",{className:"mb-8 w-full",controls:!0,children:(0,e.jsx)("source",{src:m,type:s?.field_audio?.[0]?.filemime||"audio/mp3"})}),a.length>0&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("button",{className:"show-transcript btn-primary mb-2 flex justify-self-end",onClick:()=>i(!d),children:[d?`${n?.[o]?.hide}`:`${n?.[o]?.show}`," ",n?.[o]?.transcript]}),d&&(0,e.jsx)("div",{className:"transcripts border w-full max-h-40 bg-color-secondary overflow-y-auto border-primary rounded-2xl p-3",children:a?.map((h,c)=>e.jsxs("div",{className:"flex pb-4",children:[e.jsxs("span",{className:"time mr-6",children:[" ",h?.time]}),e.jsxs("span",{className:"text",children:[" ",h?.text]})]},c))})]})]})};t(73491);var j=t(66751);let y=({data:s,nid:a})=>{let l=s.layout_structure,d=s.field_content,i={"paragraph--wysiwyg_editor":r.Z,wysiwyg_editor:r.Z,"paragraph--image":v.Z,image:v.Z,"paragraph--faq":w,faq:w,external_videos:T.Z,"paragraph--video":F.Z,"paragraph--podcast_audio":Z,podcast_audio:Z,"paragraph--text_and_video":j.Z},p=(0,g.useMemo)(()=>Array.isArray(l)?l.map((u,n)=>{if(u.type!=="layout"||Object.keys(u.regions).length===0){if(u.type==="component"){let o=i[u.paragraph_type],m=u.id,h=d.find(c=>c.id[0].value==m);return(0,e.jsx)(o,{...h,nid:a},m)}return null}return(0,e.jsx)(N,{layout_id:u.layout_id,children:Object.keys(u.regions).map((o,m)=>{let h=u.regions[o];return h.length>0&&(0,e.jsx)("div",{className:`region-${o} w-full`,children:h.map(c=>{let x=d.find(k=>k.uuid[0].value===c.uuid),S=i[x?.type[0].target_id];if(!S)return(0,e.jsxs)("div",{children:["Unknown component type: ",c.paragraph_type]},c.uuid);if(x&&x?.type[0].target_id=="external_videos"){let k={field_external_video:x.field_external_video[0].value};return(0,e.jsx)(S,{...k},c.uuid)}return x?(0,e.jsx)(S,{...x,nid:a},c.uuid):null})},m)})},n)}):(console.error("Expected 'layout_structure' to be an array."),null),[l,d]);return(0,e.jsx)(e.Fragment,{children:p})}},O.__chunk_44443=(R,$,t)=>{"use strict";t.d($,{b:()=>Z});var e=t(60926),r=t(29220),N=t(58997),v=t(31164),_=t(73521),b=t(83120),g=t(52851),w=t(7433),F=t(85016),T=t(34929);function C({nid:j,handleShowForm:y,feedbackType:s,subcatTid:a}){let[l,d]=(0,r.useState)(0),[i,p]=(0,r.useState)({}),[u,n]=(0,r.useState)(!1),[o,m]=(0,r.useState)(0),[h,c]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!1),[k,D]=(0,r.useState)(!1),q=(0,g.useLocale)(),{translations:E}=(0,w.T)(),Y=(0,_.so)(),[L,B]=(0,r.useState)([]),{userName:A,userId:J}=(0,F.Q)();(0,r.useRef)(i),(0,r.useRef)(x),(0,r.useRef)(k);let X=async(P=i)=>{let f=await(0,T.h)();if(h||x)return;let G={webform_id:"laaha_survey_builder_module",subcategory:a,country:Y,was_this_helpful:s,...P,username:A||"",user_id:J||"",node_id:j};c(!0);try{let M={"Content-Type":"application/json",...f?{Authorization:`Bearer ${f}`}:{}};(await fetch(`https://edit-dev.laaha.org/${q}/webform_rest/submit`,{method:"POST",headers:M,body:JSON.stringify(G)})).ok&&(localStorage.removeItem(`feedback_form_responses_${a}`),S(!0))}catch(M){console.error("Failed to submit feedback:",M)}finally{c(!1)}},V=P=>{D(!0);let f=L[l],G={...i,[f.question_code]:P};p(G),l===L.length-1?(n(!0),D(!1),X(G)):d(l+1)},I=()=>{!x&&(k||s)&&Object.keys(i).length==0&&X(Object.keys(i).length>0?i:{}),D(!1),y()};return u?(0,e.jsx)("div",{className:"lg:max-w-1/2 bg-white border rounded shadow",children:(0,e.jsxs)("div",{className:"relative p-6",children:[(0,e.jsx)("button",{onClick:I,className:"absolute top-3 end-3",children:(0,e.jsx)(b.Tw,{})}),(0,e.jsxs)("div",{className:"text-center py-8 text-default-black",children:[(0,e.jsxs)("h2",{className:`text-xl text-red-wine max-w-80 mx-auto font-semibold mb-8 ${_.pX.className}`,children:["\u{1F389} ",E?.[q]?.thankyou_feedback]}),(0,e.jsx)("button",{onClick:I,className:"bg-primary hover:bg-red text-base text-white px-4 py-2 rounded",children:E?.[q]?.close})]})]})}):L.length?(0,e.jsx)("div",{className:"lg:max-w-1/2 bg-white border border-primary rounded-xl shadow",children:(0,e.jsxs)("div",{className:"relative p-6",children:[(0,e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,e.jsx)("div",{className:"flex items-center w-full",children:(0,e.jsx)("h2",{className:`${_.pX.className} text-center mb-2 w-full text-xxl font-bold text-primary`,children:E?.[q]?.feedback_survey})}),(0,e.jsx)("button",{onClick:I,className:"absolute top-3 end-3",children:(0,e.jsx)(b.Tw,{})})]}),(0,e.jsxs)("div",{className:"py-4",children:[(0,e.jsx)("h3",{className:`${_.pX.className} text-red-wine text-xl font-semibold text-center mb-6`,children:L[l].question}),(()=>{if(!L.length)return null;let P=L[l];switch(P.type){case"yesno":return(0,e.jsxs)("div",{className:"flex justify-center gap-4 mb-8",children:[(0,e.jsxs)("button",{className:`w-24 border rounded py-2 inline-flex items-center gap-x-1 justify-center ${i[P.question_code]==="No"?"bg-primary text-white":"border-primary text-primary hover:bg-color-secondary"}`,onClick:()=>V("No"),children:[(0,e.jsx)(b.LX,{stroke:`${i[P.question_code]==="No"?"#fff":"#F7265D"}`}),(0,e.jsx)("span",{className:"text-base",children:"No"})]}),(0,e.jsxs)("button",{className:`w-24 rounded-lg py-2 inline-flex items-center gap-x-1 justify-center ${i[P.question_code]==="Yes"?"bg-red text-white":"bg-primary hover:bg-red text-white"}`,onClick:()=>V("Yes"),children:[(0,e.jsx)("div",{className:"inline-flex -rotate-180",children:(0,e.jsx)(b.LX,{stroke:"#fff"})}),(0,e.jsx)("span",{className:"text-base mt-1",children:"Yes"})]})]});case"rating":return(0,e.jsx)("div",{className:"flex justify-center gap-2 mb-8",children:[1,2,3,4,5].map(f=>(0,e.jsx)("button",{onMouseEnter:()=>m(f),onMouseLeave:()=>m(0),onClick:()=>V(f.toString()),className:"text-2xl","aria-label":`Rate ${f} stars`,style:{color:o>=f||i[P.question_code]===f.toString()?"gold":"lightgray",cursor:"pointer"},children:"\u2605"},f))});case"emoji":return(0,e.jsx)("div",{className:"flex justify-center gap-6 mb-8 text-default-black",children:[{emoji:"\u{1F614}",label:"Disappointed",value:"disappointed"},{emoji:"\u{1F60A}",label:"Satisfied",value:"satisfied"},{emoji:"\u{1F603}",label:"Delighted",value:"delighted"}].map(f=>(0,e.jsxs)("button",{onClick:()=>V(f.value),className:`flex flex-col items-center gap-2 p-3 rounded hover:bg-gray-100 ${i[P.question_code]===f.value?"bg-gray-200":""}`,children:[(0,e.jsx)("span",{className:"text-3xl",children:f.emoji}),(0,e.jsx)("span",{className:"text-sm",children:f.label})]},f.value))});default:return null}})(),(0,e.jsxs)("div",{className:"flex justify-center items-center gap-4 mt-4",children:[(0,e.jsx)("button",{onClick:()=>{l>0&&d(l-1)},disabled:l===0,className:`p-2 ${l===0?"opacity-50":""}`,children:(0,e.jsx)(b.IT,{})}),(0,e.jsx)("div",{className:"flex gap-1 text-color-neutral p-2 font-semibold text-base",children:(0,e.jsxs)("span",{children:[(0,e.jsx)("span",{className:"text-primary",children:l+1})," / ",L.length]})}),(0,e.jsx)("button",{onClick:()=>{l<L.length-1&&d(l+1)},disabled:l===L.length-1,className:`p-2 ${l===L.length-1?"opacity-50":""}`,children:(0,e.jsx)(b.UV,{fill:"#f7265d"})})]})]})]})}):null}let Z=({subcatTid:j,nid:y})=>{let[s,a]=(0,r.useState)(""),[l,d]=(0,r.useState)(!1),[i,p]=(0,r.useState)(!1),u=(0,g.useLocale)(),{translations:n}=(0,w.T)();(0,r.useEffect)(()=>{(async()=>{let m=v.Z.get(`article_feedback_${j}`);if(m){a(m),d(!1);return}try{let h=await(0,T.h)();if(!h)return;let c=await fetch(`https://edit-dev.laaha.org/api/feedback?subcatTid=${j}&nid=${y}`,{headers:{Authorization:`Bearer ${h}`}});if(c.ok){let x=await c.json();x?.feedbackType&&(a(x.feedbackType),d(!1))}}catch(h){console.error("Failed to load user feedback:",h)}})()},[j,y]);let o=m=>{s||(a(m),p(!0),d(!0),v.Z.set(`article_feedback_${j}`,m,{expires:1}))};return(0,e.jsxs)("div",{className:"article-feedback mb-8 border-b pb-8 border-gray",children:[(0,e.jsx)("div",{className:"feedback-heading",children:(0,e.jsx)("div",{className:`${_.pX.className} font-bold text-primary text-xl mb-2`,children:n?.[u]?.was_this_helpful})}),(0,e.jsxs)("div",{className:"reactions inline-flex gap-x-2 w-full",children:[(0,e.jsx)("div",{onClick:()=>o("Yes"),className:`${s&&s!=="Yes"?"pointer-events-none opacity-30":""} thumbsup p-3 cursor-pointer bg-gray-100 hover:scale-110 rounded-full flex items-center justify-center`,children:(0,e.jsx)(N.Z,{src:"/assets/images/thumbsup.svg",alt:"Thumbs Up",width:22,height:22})}),(0,e.jsx)("div",{onClick:()=>o("No"),className:`${s&&s!=="No"?"pointer-events-none opacity-30":""} thumbsdown p-3 cursor-pointer bg-gray-100 hover:scale-110 rounded-full flex items-center justify-center`,children:(0,e.jsx)(N.Z,{src:"/assets/images/thumbsdown.svg",alt:"Thumbs Down",width:22,height:22})})]}),l&&(0,e.jsx)("div",{className:"mt-4 bg-gray-50 rounded-lg text-sm text-gray-700",children:(s==="Yes"||s==="No")&&i&&(0,e.jsx)(C,{nid:y,handleShowForm:()=>{p(!1)},feedbackType:s,subcatTid:j})})]})}},O);export{H as __getNamedExports};
